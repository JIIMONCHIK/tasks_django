{% extends 'main/base.html' %}
{% load static %}

{% block title %}
    {{ title }}
{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'main/css/login.css' %}">

<div class="auth-container">
    <div class="auth-form">
        <h2 class="text-center mb-4">Вход в систему</h2>
        {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="next" value="{{ next }}">

            <div class="form-group-reg">
                <label>Email</label>
                <input
                    type="text"
                    name="username"
                    value="{{ email_value }}"
                    class="form-control {% if field_errors.username %}error-field{% endif %}"
                    placeholder="Введите email"
                >
                {% if field_errors.username %}
                    <div class="error-message">
                        {% for err in field_errors.username %}
                            {{ err }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <div class="form-group-reg">
                <label>Пароль</label>
                <input
                    type="password"
                    name="password"
                    class="form-control {% if field_errors.password %}error-field{% endif %}"
                    placeholder="Введите пароль"
                >
                {% if field_errors.password %}
                    <div class="error-message">
                        {% for err in field_errors.password %}
                            {{ err }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <button type="submit" class="btn btn-primary w-100">Войти</button>
            <div class="text-center mt-3">
                <a href="{% url 'register' %}?next={{ next }}">Создать аккаунт</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}